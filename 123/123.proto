syntax = "proto3";

package poker;

// Top-level session message
message Session {
  string session_code = 1;
  General general = 2;
  repeated Game games = 3;
}

// General information for session and games
message General {
  string client_version = 1;
  string mode = 2;
  string game_type = 3;
  string table_name = 4;
  string tournament_currency = 5;
  string duration = 6;
  int32 game_count = 7;
  string start_date = 8;
  string currency = 9;
  string nickname = 10;
  int64 bets = 11;
  int64 wins = 12;
  int64 chips_in = 13;
  int64 chips_out = 14;
  string status_points = 15;
  string award_points = 16;
  string ipoints = 17;
  int32 table_size = 18;
  string tournament_code = 19;
  string tournament_name = 20;
  int32 place = 21;
  string buyin = 22;
  string total_buyin = 23;
  int64 win_amount = 24;
}

// A single poker game
message Game {
  string game_code = 1;
  General general = 2;
  repeated Round rounds = 3;
}

// A round within a game: actions and cards
message Round {
  int32 no = 1;
  repeated Action actions = 2;
  repeated Cards cards = 3;
}

// Player action in a round
message Action {
  int32 no = 1;
  int32 type = 2;
  int64 sum = 3;
  string player = 4;
}

// Cards shown in a round
message Cards {
  string type = 1;
  string player = 2; // empty for board cards
  string cards = 3;
}

// Player information
message Player {
  int64 addon = 1;
  int64 rebuy = 2;
  int64 win = 3;
  string name = 4;
  bool dealer = 5;
  string reg_code = 6;
  int64 chips = 7;
  int64 bet = 8;
  int32 seat = 9;
}

// List of players
message PlayerList {
  repeated Player players = 1;
}